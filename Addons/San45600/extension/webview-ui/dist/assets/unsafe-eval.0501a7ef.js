/*!
 * @pixi/unsafe-eval - v6.5.2
 * Compiled Wed, 24 Aug 2022 13:51:19 UTC
 *
 * @pixi/unsafe-eval is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var y={float:function(i,f,o,n){o!==n&&(o.v=n,i.uniform1f(f,n))},vec2:function(i,f,o,n){(o[0]!==n[0]||o[1]!==n[1])&&(o[0]=n[0],o[1]=n[1],i.uniform2f(f,n[0],n[1]))},vec3:function(i,f,o,n){(o[0]!==n[0]||o[1]!==n[1]||o[2]!==n[2])&&(o[0]=n[0],o[1]=n[1],o[2]=n[2],i.uniform3f(f,n[0],n[1],n[2]))},int:function(i,f,o,n){i.uniform1i(f,n)},ivec2:function(i,f,o,n){i.uniform2i(f,n[0],n[1])},ivec3:function(i,f,o,n){i.uniform3i(f,n[0],n[1],n[2])},ivec4:function(i,f,o,n){i.uniform4i(f,n[0],n[1],n[2],n[3])},uint:function(i,f,o,n){i.uniform1ui(f,n)},uvec2:function(i,f,o,n){i.uniform2ui(f,n[0],n[1])},uvec3:function(i,f,o,n){i.uniform3ui(f,n[0],n[1],n[2])},uvec4:function(i,f,o,n){i.uniform4ui(f,n[0],n[1],n[2],n[3])},bool:function(i,f,o,n){o!==n&&(o.v=n,i.uniform1i(f,Number(n)))},bvec2:function(i,f,o,n){i.uniform2i(f,n[0],n[1])},bvec3:function(i,f,o,n){i.uniform3i(f,n[0],n[1],n[2])},bvec4:function(i,f,o,n){i.uniform4i(f,n[0],n[1],n[2],n[3])},mat2:function(i,f,o,n){i.uniformMatrix2fv(f,!1,n)},mat3:function(i,f,o,n){i.uniformMatrix3fv(f,!1,n)},mat4:function(i,f,o,n){i.uniformMatrix4fv(f,!1,n)},sampler2D:function(i,f,o,n){i.uniform1i(f,n)},samplerCube:function(i,f,o,n){i.uniform1i(f,n)},sampler2DArray:function(i,f,o,n){i.uniform1i(f,n)}},p={float:function(i,f,o,n){i.uniform1fv(f,n)},vec2:function(i,f,o,n){i.uniform2fv(f,n)},vec3:function(i,f,o,n){i.uniform3fv(f,n)},vec4:function(i,f,o,n){i.uniform4fv(f,n)},int:function(i,f,o,n){i.uniform1iv(f,n)},ivec2:function(i,f,o,n){i.uniform2iv(f,n)},ivec3:function(i,f,o,n){i.uniform3iv(f,n)},ivec4:function(i,f,o,n){i.uniform4iv(f,n)},uint:function(i,f,o,n){i.uniform1uiv(f,n)},uvec2:function(i,f,o,n){i.uniform2uiv(f,n)},uvec3:function(i,f,o,n){i.uniform3uiv(f,n)},uvec4:function(i,f,o,n){i.uniform4uiv(f,n)},bool:function(i,f,o,n){i.uniform1iv(f,n)},bvec2:function(i,f,o,n){i.uniform2iv(f,n)},bvec3:function(i,f,o,n){i.uniform3iv(f,n)},bvec4:function(i,f,o,n){i.uniform4iv(f,n)},sampler2D:function(i,f,o,n){i.uniform1iv(f,n)},samplerCube:function(i,f,o,n){i.uniform1iv(f,n)},sampler2DArray:function(i,f,o,n){i.uniform1iv(f,n)}};function h(i,f,o,n,s){var v=0,c=null,r=null,m=s.gl;for(var _ in i.uniforms){var t=f[_],u=n[_],e=o[_],l=i.uniforms[_];if(!t){l.group&&s.shader.syncUniformGroup(u);continue}if(t.type==="float"&&t.size===1)u!==e.value&&(e.value=u,m.uniform1f(e.location,u));else if((t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray)s.texture.bind(u,v),e.value!==v&&(e.value=v,m.uniform1i(e.location,v)),v++;else if(t.type==="mat3"&&t.size===1)l.a!==void 0?m.uniformMatrix3fv(e.location,!1,u.toArray(!0)):m.uniformMatrix3fv(e.location,!1,u);else if(t.type==="vec2"&&t.size===1)l.x!==void 0?(r=e.value,c=u,(r[0]!==c.x||r[1]!==c.y)&&(r[0]=c.x,r[1]=c.y,m.uniform2f(e.location,c.x,c.y))):(r=e.value,c=u,(r[0]!==c[0]||r[1]!==c[1])&&(r[0]=c[0],r[1]=c[1],m.uniform2f(e.location,c[0],c[1])));else if(t.type==="vec4"&&t.size===1)l.width!==void 0?(r=e.value,c=u,(r[0]!==c.x||r[1]!==c.y||r[2]!==c.width||r[3]!==c.height)&&(r[0]=c.x,r[1]=c.y,r[2]=c.width,r[3]=c.height,m.uniform4f(e.location,c.x,c.y,c.width,c.height))):(r=e.value,c=u,(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||r[3]!==c[3])&&(r[0]=c[0],r[1]=c[1],r[2]=c[2],r[3]=c[3],m.uniform4f(e.location,c[0],c[1],c[2],c[3])));else{var a=t.size===1?y:p;a[t.type].call(null,m,e.location,e.value,u)}}}function b(i){var f=i.ShaderSystem;if(!f)throw new Error("Unable to patch ShaderSystem, class not found.");Object.assign(f.prototype,{systemCheck:function(){},syncUniforms:function(o,n){var s=this,v=s.shader,c=s.renderer;h(o,v.program.uniformData,n.uniformData,o.uniforms,c)}})}export{b as install};
